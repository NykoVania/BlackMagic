-- OFFICIAL FILE FOR FAINT REWORK V3.3
-- Code started 10/31/2022
-- Created by: Nyko#8409 :)
local UserInputService = game:GetService("UserInputService")
local Player = game:GetService("Players").LocalPlayer
local Character = Player.Character
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Resources = ReplicatedStorage.ClassesResources
local ClassUsing = Player.Class.Value
local Class = Player.Backpack[ClassUsing]
local Cooldowns = Class.Cooldowns
local Debounce1 = false
local Debounce2 = false
local Debounce3 = false
local Debounce4 = false
local Debounce5 = false
local Debounce6 = false
local Debounce7 = false
local Debounce8 = false
local DebounceQ = false
local DebounceE = false
local DebounceR = false
local DebounceZ = false
local DebounceX = false
local LocalConditions = Character.LocalConditions

for i, v in pairs(Cooldowns:GetDescendants()) do
    v:GetPropertyChangedSignal("Value"):Connect(function()
        if v.Value == 0 and v.Name == "1" then
            Debounce1 = false
        elseif 
            v.Value == 0 and v.Name == "2" then
            Debounce2 = false
        elseif 
            v.Value == 0 and v.Name == "3" then
            Debounce3 = false
        elseif 
            v.Value == 0 and v.Name == "4" then
            Debounce4 = false
        elseif 
            v.Value == 0 and v.Name == "5" then
            Debounce5 = false
        elseif 
            v.Value == 0 and v.Name == "6" then
            Debounce6 = false
        elseif 
            v.Value == 0 and v.Name == "7" then
            Debounce7 = false
        elseif 
            v.Value == 0 and v.Name == "8" then
            Debounce8 = false
        elseif 
            v.Value == 0 and v.Name == "Launcher" then
            DebounceR = false
        elseif 
            v.Value == 0 and v.Name == "Guardbreak" then
            DebounceQ = false
        elseif 
            v.Value == 0 and v.Name == "Breakdown" then
            DebounceE = false
        end
    end
    )
end

UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.One and Debounce1 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce1 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce1 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Two and Debounce2 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce2 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce2 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Three and Debounce3 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce3 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce3 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Four and Debounce4 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce4 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce4 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Five and Debounce5 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce5 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce5 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Six and Debounce6 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce6 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce6 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Seven and Debounce7 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce7 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce7 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Eight and Debounce8 == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                Debounce8 = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until Debounce8 == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.Q and DebounceQ == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceQ = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until DebounceQ == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.E and DebounceE == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceE = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until DebounceE == true
    end
end)
UserInputService.InputBegan:connect(function(Instance)
    if Instance.KeyCode == Enum.KeyCode.R and DebounceR == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceR = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until DebounceR == true
    end
end)

--################################################################################################################################################
-- TESTING.
-- AUTOCOMBOS AND NON SPECIALS.
--Z
UserInputService.InputBegan:connect(function(input, gameProccesedEvent)
    if input.UserInputType == Enum.UserInputType.MouseButton1 and DebounceZ == false and LocalConditions.InAir == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceZ = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until DebounceZ == true
        DebounceZ = false
    end
end)
-- JZ
UserInputService.InputBegan:connect(function(input, gameProccesedEvent)
    if input.UserInputType == Enum.UserInputType.MouseButton1 and DebounceZ == false and LocalConditions.InAir == true then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceZ = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until DebounceZ == true
        DebounceZ = false
    end
end)

-- X
UserInputService.InputBegan:connect(function(input, gameProccesedEvent)
    if input.UserInputType == Enum.UserInputType.MouseButton2 and DebounceX == false and LocalConditions.InAir == false then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
               if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceX = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["SP1"]):Play()
                end
            end
        until DebounceX == true
        DebounceX = false
    end
end)
-- JX
UserInputService.InputBegan:connect(function(input, gameProccesedEvent)
    if input.UserInputType == Enum.UserInputType.MouseButton2 and DebounceX == false and LocalConditions.InAir == true then
        repeat
            wait()
            for i,Animation in pairs(Character.Humanoid:GetPlayingAnimationTracks()) do
                if Animation.Name == "Animation" then
                Animation:Stop()
                DebounceX = true
                Character.Humanoid:LoadAnimation(Resources.Faint.Animations["JX"]):Play()
                end
            end
        until DebounceX == true
        DebounceX = false
    end
end)

UserInputService.InputBegan:Connect(Input)
